<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Meta tags for SEO and responsive design -->
    <meta charset="UTF-8">
    <link rel="icon" href="/assets/icon/web/favicon.ico" sizes="any">
    <link rel="apple-touch-icon" href="/assets/icon/web/apple-touch-icon.png">
    <link rel="manifest" href="https://motog34.github.io/manifest.json">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Moto G34/45 5G Wiki">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Moto G34/5G guide">
    <meta property="og:description" content="Information and other things related to Moto G34/5G">
    <meta property="og:url" content="https://motog34.github.io/guide/">
    <meta property="og:image" content="https://img.freepik.com/vetores-premium/logotipo-da-google_798572-207.jpg?semt=ais_hybrid">
    <meta property="og:image:width" content="798">
    <meta property="og:image:height" content="798">

    <!-- Color scheme for light and dark mode -->
    <meta name="color-scheme" content="light dark">
    
    <title>Moto G34/45 5G Wiki</title>

    <!-- External stylesheet links could go here -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Toolbar at the top of the page -->
    <div class="toolbar">
        <h1>Wiki</h1>
        <!-- Home button -->
        <div class="icons">
        <!-- Home button -->
        <!-- <a href="/" class="summary-icon" aria-label="Home">
            <img src="./icon/home.svg" style="margin-left: auto; margin-right: 10px;" alt="Home">
        </a> -->
        
        <!-- Summarize button -->
        <a id="summarizeButton" class="summary-icon" aria-label="Summary">
            <img src="./icon/ic_sum.svg" style="margin-right: 10px; width: 15px; height: 15px;" alt="Summary">
        </a>
        
        <!-- Menu button -->
        <!-- <a class="summary-icon" aria-label="Menu">
            <img src="./icon/menu.svg" style="width: 22px; height: 22px;" alt="Menu">
        </a> -->
        </div>
    </div>

    <!-- Main content container -->
    <div id="post-content" class="post-content">
        <!-- The content will be injected dynamically via JavaScript -->
    </div>

    <!-- External JS file could go here for interactivity -->
    <script>
// Função para atualizar os metadados dinamicamente
function updateMetaTagsFromMarkdown() {
    const urlParams = new URLSearchParams(window.location.search);
    const fileName = urlParams.get('file');

    if (fileName) {
        fetch(`./posts/${fileName}.md`)
            .then(response => {
                if (!response.ok) throw new Error("Arquivo não encontrado.");
                return response.text();
            })
            .then(md => {
                // Extrair a "description" e o "title" do conteúdo Info do markdown
                const descriptionMatch = md.match(/Info {\s*description:\s*([^}]+)\s*}/i);
                const titleMatch = md.match(/Info {\s*title:\s*([^}]+)\s*}/i);

                const newDescription = descriptionMatch ? descriptionMatch[1].trim() : "Default description";
                const newTitle = titleMatch ? titleMatch[1].trim() : "Default title";

                // Atualizar a tag <meta property="og:description"> com a nova descrição
                const ogDescriptionMeta = document.querySelector('meta[property="og:description"]');
                if (ogDescriptionMeta) {
                    ogDescriptionMeta.setAttribute('content', newDescription);
                }

                // Atualizar a tag <meta property="og:title"> com o novo título
                const ogTitleMeta = document.querySelector('meta[property="og:title"]');
                if (ogTitleMeta) {
                    ogTitleMeta.setAttribute('content', newTitle);
                }

                // Atualizar também o <title> da página
                document.title = newTitle;
            })
            .catch(error => console.error('Erro ao carregar o arquivo:', error));
    }
}

// Executar a função quando o documento estiver pronto
document.addEventListener('DOMContentLoaded', updateMetaTagsFromMarkdown);
    </script>
    
    <script src="script.js"></script>
</body>
</html>
